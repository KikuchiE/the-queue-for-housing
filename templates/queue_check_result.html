{% extends "base.html" %} {% block content %}
<div class="container mx-auto p-4 mt-10">
	<div class="bg-white shadow-md rounded-lg p-6">
		<h1 class="text-lg font-semibold mb-4">Queue Check Results</h1>
		<div class="bg-gray-100 p-4 rounded-lg">
			<h2 class="text-xl font-bold mb-4">Queue Position Details</h2>

			<div class="mb-4">
				<p class="text-gray-700">
					Your current queue position:
					<span class="font-bold text-blue-600">{{ queue_position }}</span>
				</p>
				<p class="text-gray-700">
					Total applications in queue:
					<span class="font-bold text-blue-600">{{ total_queued_applications }}</span>
				</p>
			</div>

			<h3 class="text-lg font-semibold mt-4 mb-2">Your Applications</h3>

			<table class="w-full border-collapse">
				<thead>
					<tr class="bg-blue-100">
						<th class="border p-2">Application Number</th>
						<th class="border p-2">Status</th>
						<th class="border p-2">Submission Date</th>
						<th class="border p-2">Priority Score</th>
					</tr>
				</thead>
				<tbody>
					{% for application in applications %}
					<tr>
						<td class="border p-2">{{ application.application_number }}</td>
						<td class="border p-2">{{ application.get_status_display }}</td>
						<td class="border p-2">{{ application.submission_date|date:"d M Y" }}</td>
						<td class="border p-2">{{ application.priority_score }}</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>

			<div class="mt-4 flex justify-center">
				<a href="{% url 'applications:check-queue' %}" class="bg-blue-500 text-white py-2 px-4 rounded-lg">Check Another IIN</a>
			</div>
		</div>
	</div>
</div>
{% endblock %}