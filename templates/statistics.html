{% extends "base.html" %}
{% block content %}
<div class="container mx-auto p-4">
    <header class="flex justify-between items-center mb-4">
        <h1 class="text-xl font-bold">SHANYRAQ in Numbers</h1>
        <a href="#" class="text-blue-500">Home</a>
    </header>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
        <div class="bg-blue-500 text-white p-4 rounded-lg flex items-center justify-between">
            <div>
                <h2 class="text-2xl font-bold">1,000,000</h2>
                <p class="text-sm">TOTAL APPLICATIONS</p>
                <p class="text-xs mt-2">+ 12,056 Last month</p>
            </div>
            <i class="fas fa-envelope-open-text text-4xl"></i>
        </div>
        <div class="bg-blue-500 text-white p-4 rounded-lg flex items-center justify-between">
            <div>
                <h2 class="text-2xl font-bold">700,000</h2>
                <p class="text-sm">TOTAL QUEUE MEMBERS</p>
                <p class="text-xs mt-2">+ 10,000 Last month</p>
            </div>
            <i class="fas fa-users text-4xl"></i>
        </div>
        <div class="bg-blue-500 text-white p-4 rounded-lg flex items-center justify-between">
            <div>
                <h2 class="text-2xl font-bold">800,000</h2>
                <p class="text-sm">REGISTERED USERS</p>
                <p class="text-xs mt-2">+ 0.55% Last 7 days</p>
            </div>
            <i class="fas fa-user-check text-4xl"></i>
        </div>
    </div>
    <div class="bg-white p-4 rounded-lg">
        <h2 class="text-lg font-bold mb-4">APPLICATIONS</h2>
        <div class="flex justify-between mb-4">
            <button class="filter-btn bg-blue-500 text-white py-2 px-4 rounded-lg active" onclick="updateTable('month', this)">Last month</button>
            <button class="filter-btn bg-gray-200 text-gray-700 py-2 px-4 rounded-lg" onclick="updateTable('3months', this)">Last 3 months</button>
            <button class="filter-btn bg-gray-200 text-gray-700 py-2 px-4 rounded-lg" onclick="updateTable('6months', this)">Last 6 months</button>
        </div>
        <div class="overflow-x-auto">
            <table class="min-w-full bg-white">
                <thead>
                    <tr>
                        <th class="py-2 px-4 bg-blue-500 text-white">Date</th>
                        <th class="py-2 px-4 bg-blue-500 text-white">Total Count</th>
                        <th class="py-2 px-4 bg-blue-500 text-white">Processed Count</th>
                    </tr>
                </thead>
                <tbody id="table-body"></tbody>
            </table>
        </div>
    </div>
</div>

<script>
    const data = {
        month: [
            { date: 'Feb 13', total: 900, processed: 600 },
            { date: 'Feb 15', total: 800, processed: 500 },
            { date: 'Feb 17', total: 1000, processed: 700 },
            { date: 'Feb 19', total: 1100, processed: 800 },
            { date: 'Feb 21', total: 950, processed: 650 },
            { date: 'Feb 23', total: 850, processed: 550 },
            { date: 'Feb 25', total: 1200, processed: 900 },
            { date: 'Feb 27', total: 1150, processed: 850 },
            { date: 'Mar 5', total: 700, processed: 400 },
            { date: 'Mar 7', total: 750, processed: 450 },
            { date: 'Mar 9', total: 800, processed: 500 },
            { date: 'Mar 11', total: 950, processed: 650 },
        ],
        '3months': [
            { date: 'Jan 13', total: 700, processed: 500 },
            { date: 'Jan 15', total: 800, processed: 600 },
            { date: 'Jan 17', total: 900, processed: 700 },
            { date: 'Jan 19', total: 1000, processed: 800 },
            { date: 'Jan 21', total: 1100, processed: 900 },
            { date: 'Jan 23', total: 1200, processed: 1000 },
            { date: 'Jan 25', total: 1300, processed: 1100 },
            { date: 'Jan 27', total: 1400, processed: 1200 },
            { date: 'Feb 5', total: 1500, processed: 1300 },
            { date: 'Feb 7', total: 1600, processed: 1400 },
            { date: 'Feb 9', total: 1700, processed: 1500 },
            { date: 'Feb 11', total: 1800, processed: 1600 },
        ],
        '6months': [
            { date: 'Aug 13', total: 600, processed: 400 },
            { date: 'Aug 15', total: 700, processed: 500 },
            { date: 'Aug 17', total: 800, processed: 600 },
            { date: 'Aug 19', total: 900, processed: 700 },
            { date: 'Aug 21', total: 1000, processed: 800 },
            { date: 'Aug 23', total: 1100, processed: 900 },
            { date: 'Aug 25', total: 1200, processed: 1000 },
            { date: 'Aug 27', total: 1300, processed: 1100 },
            { date: 'Sep 5', total: 1400, processed: 1200 },
            { date: 'Sep 7', total: 1500, processed: 1300 },
            { date: 'Sep 9', total: 1600, processed: 1400 },
            { date: 'Sep 11', total: 1700, processed: 1500 },
        ],
    };

    function updateTable(period, btn) {
        const tableBody = document.getElementById('table-body');
        tableBody.innerHTML = '';

        data[period].forEach(row => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td class="py-2 px-4">${row.date}</td>
                <td class="py-2 px-4">${row.total}</td>
                <td class="py-2 px-4">${row.processed}</td>
            `;
            tableBody.appendChild(tr);
        });

        document.querySelectorAll('.filter-btn').forEach(button => {
            button.classList.remove('bg-blue-500', 'text-white');
            button.classList.add('bg-gray-200', 'text-gray-700');
        });

        btn.classList.add('bg-blue-500', 'text-white');
        btn.classList.remove('bg-gray-200', 'text-gray-700');
    }

    updateTable('month', document.querySelector('.filter-btn.active'));
</script>

{% endblock %}
